<!doctype html>
<html>
  <head>
    <script src="https://pixijs.download/release/pixi.min.js"></script>
  </head>
  <body>
    <script>
      // Create the PIXI application
      let app = new PIXI.Application({ width: 640, height: 360 });
      app.renderer.backgroundColor = 0xCCCCCC;
      document.body.appendChild(app.view);

      // Load the sprite image asynchronously
      PIXI.loader.add('ship', 'ship.png').load(() => {
        // Create the sprite and add it to the stage
        console.log('Sprite image loaded');
        let sprite = new PIXI.Sprite(PIXI.loader.resources.ship.texture);
        sprite.width = 50;
        sprite.height = 50; 
        app.stage.addChild(sprite);


        // Define the initial position and velocity of the sprite
        let xPos = app.renderer.width / 2;
        let yPos = app.renderer.height / 2;
        let xVel = 0;
        let yVel = 0;

        // Define the speed of the sprite
        const speed = 5;

        // Add event listeners for keydown and keyup events
        document.addEventListener('keydown', (event) => {
          if (event.key === 'ArrowLeft') {
            xVel = -speed;
          } else if (event.key === 'ArrowUp') {
            yVel = -speed;
          } else if (event.key === 'ArrowRight') {
            xVel = speed;
          } else if (event.key === 'ArrowDown') {
            yVel = speed;
          }
       } );

        document.addEventListener('keyup', (event) => {
          if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {
            xVel = 0;
          } else if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {
            yVel = 0;
          }
        });

        // Animate the sprite by updating its position
        function animate() {
          xPos += xVel;
          yPos += yVel;

          sprite.position.set(xPos, yPos);

          requestAnimationFrame(animate);
        }

        animate();
      });
    </script>
  </body>
</html>
